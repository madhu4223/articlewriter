(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XoyV:function(e,t,s){"use strict";s.r(t),s.d(t,"DashboardModule",function(){return y});var i=s("ofXK"),n=s("tyNb"),r=s("XNiG"),c=s("quSY"),a=s("7o/Q");class l extends c.a{constructor(e,t){super()}schedule(e,t=0){return this}}class h extends l{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s=!1,i=void 0;try{this.work(e)}catch(n){s=!0,i=!!n&&n||new Error(n)}if(s)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let o=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class u extends o{constructor(e,t=o.now){super(e,()=>u.delegate&&u.delegate!==this?u.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return u.delegate&&u.delegate!==this?u.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const d=new u(h);class p{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new b(e,this.dueTime,this.scheduler))}}class b extends a.a{constructor(e,t,s){super(e),this.dueTime=t,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function f(e){e.debouncedNext()}var g=s("tk/3"),_=s("fXoL");const m=[{path:"",component:(()=>{class e{constructor(e,t){this.http=e,this.cdr=t,this.subject=new r.a,this.key="sk-gnpHgNlj1nyLOIPUJShUjPkllzh19Tktx3e6eHpV",this.finalOptions={engine:"davinci",key:this.key,temperature:.9,topP:1,bestOf:1,maxTokens:100,echo:!1,stream:!1,frequencyPenalty:1,presencePenalty:1,stop:"\u21b5\u21b5"},this.apiCallSubscribe=new c.a,this.validateInput=e=>{let t=!1;return t=!!(e&&e.length>=15),t}}ngOnInit(){this.subject.pipe(function(e,t=d){return s=>s.lift(new p(e,t))}(1500)).subscribe(e=>{this.doAction(e)})}onKeyUp(e){this.apiCallSubscribe&&this.apiCallSubscribe.unsubscribe(),this.subject.next(e)}_construct_parameter(e,t){return null==t?null:{[e]:t}}_safe_cast(e){return isNaN(Number(e))?null:Number(e)}doAction(e){if(37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode)return;let t=document.getElementById("aa");console.log("element ==> ",t.innerText);let s=t.innerText;if(s=s.trim(),this.validateInput(s)){console.log("valid inputText");const e=`https://api.openai.com/v1/engines/${this.finalOptions.engine}/completions`,i=new g.c({Authorization:"Bearer "+this.finalOptions.key,"Content-Type":"application/json"});let n=Object.assign({},this.finalOptions),r=Object.assign({},this._construct_parameter("prompt",s),this._construct_parameter("stream",n.stream),this._construct_parameter("stop",n.stop),this._construct_parameter("max_tokens",this._safe_cast(n.maxTokens)),this._construct_parameter("temperature",this._safe_cast(n.temperature)),this._construct_parameter("top_p",this._safe_cast(n.topP)),this._construct_parameter("presence_penalty",this._safe_cast(n.presencePenalty)),this._construct_parameter("frequency_penalty",this._safe_cast(n.frequencyPenalty)),this._construct_parameter("best_of",this._safe_cast(n.bestOf)),this._construct_parameter("n",this._safe_cast(n.n)),this._construct_parameter("logprobs",this._safe_cast(n.logprobs)),this._construct_parameter("echo",n.echo));this.apiCallSubscribe&&this.apiCallSubscribe.unsubscribe(),this.apiCallSubscribe=this.http.post(e,r,{headers:i}).subscribe(e=>{if(console.log("response",e),e&&e.choices){let i="";e.choices.forEach(e=>{i+=e.text}),t.innerText=s+i,this.cdr.detectChanges()}})}}alignElement(e,t){let s=e.childNodes,i=s.length;for(let n=0;n<i;n++){if("DIV"==s[n].nodeName){let t=s[n].nodeValue,i=t.length,r="";for(let e=0;e<i;e++)e<20?0==e?r+=`<span id=${e}>ENTER</span>`:r=r+`<span id=${e}>`+t[e]+"</span>":r=r+`<span id=${e} style="color:red;">`+t[e]+"</span>";e.innerHTML=r}else{let t=s[n].nodeValue,i=t&&t.length||0,r="";for(let e=0;e<i;e++)r=e<20?r+`<span id=${e}>`+t[e]+"</span>":r+`<span id=${e} style="color:red;">`+t[e]+"</span>";e.innerHTML=r}return e}}redSpaces(e,t){let s=e.childNodes,i=s.length;for(let n=0;n<i;n++)"&nbsp;"!=s[n].innerHTML&&" "!=s[n].innerHTML||(0!=n||!s[n+1]||"&nbsp;"!=s[n+1].innerHTML&&" "!=s[n+1].innerHTML?(!s[n-1]||"&nbsp;"!=s[n-1].innerHTML&&" "!=s[n-1].innerHTML||"&nbsp;"!=s[n].innerHTML&&" "!=s[n].innerHTML||(s[n].classList.add("highlight"),s[n-1].classList.add("highlight")),!s[n+1]||"&nbsp;"!=s[n+1].innerHTML&&" "!=s[n+1].innerHTML||"&nbsp;"!=s[n].innerHTML&&" "!=s[n].innerHTML||(s[n+1].classList.add("highlight"),s[n].classList.contains("highlight")||s[n].classList.add("highlight"))):(s[n].classList.add("highlight"),s[n+1].classList.add("highlight")))}}return e.\u0275fac=function(t){return new(t||e)(_.Gb(g.a),_.Gb(_.h))},e.\u0275cmp=_.Ab({type:e,selectors:[["app-gpt3"]],decls:1,vars:0,consts:[["contenteditable","true","id","aa",1,"editable",3,"keyup"]],template:function(e,t){1&e&&(_.Jb(0,"div",0),_.Pb("keyup",function(e){return t.onKeyUp(e)}),_.Ib())},styles:[".editable[_ngcontent-%COMP%]{margin-top:50px;margin-left:100px;border:1px solid #00f;resize:vertical;overflow:auto;width:600px;padding:5px}.highlight[_ngcontent-%COMP%]{border-bottom:4px solid red}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=_.Eb({type:e}),e.\u0275inj=_.Db({factory:function(t){return new(t||e)},imports:[[i.b,n.b.forChild(m)],n.b]}),e})()}}]);