!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(t,n,i||t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XoyV:function(n,s,o){"use strict";o.r(s),o.d(s,"DashboardModule",function(){return L});var l=o("ofXK"),h=o("tyNb"),d=o("XNiG"),f=o("quSY"),p=o("7o/Q"),b=function(e){r(s,e);var n=c(s);function s(e,i){var r;return t(this,s),(r=n.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return i(s,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),s}(function(e){r(s,e);var n=c(s);function s(e,i){return t(this,s),n.call(this)}return i(s,[{key:"schedule",value:function(e){return this}}]),s}(f.a)),v=function(){var e=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;t(this,e),this.SchedulerAction=n,this.now=i}return i(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),y=new(function(n){r(o,n);var s=c(o);function o(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.now;return t(this,o),(n=s.call(this,e,function(){return o.delegate&&o.delegate!==a(n)?o.delegate.now():i()})).actions=[],n.active=!1,n.scheduled=void 0,n}return i(o,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return o.delegate&&o.delegate!==this?o.delegate.schedule(t,n,i):e(u(o.prototype),"schedule",this).call(this,t,n,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),o}(v))(b),g=function(){function e(n,i){t(this,e),this.dueTime=n,this.scheduler=i}return i(e,[{key:"call",value:function(e,t){return t.subscribe(new _(e,this.dueTime,this.scheduler))}}]),e}(),_=function(e){r(s,e);var n=c(s);function s(e,i,r){var c;return t(this,s),(c=n.call(this,e)).dueTime=i,c.scheduler=r,c.debouncedSubscription=null,c.lastValue=null,c.hasValue=!1,c}return i(s,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),s}(p.a);function m(e){e.debouncedNext()}var k,w,x=o("tk/3"),T=o("fXoL"),O=[{path:"",component:(k=function(){function e(n,i){t(this,e),this.http=n,this.cdr=i,this.subject=new d.a,this.key="sk-gnpHgNlj1nyLOIPUJShUjPkllzh19Tktx3e6eHpV",this.finalOptions={engine:"davinci",key:this.key,temperature:.9,topP:1,bestOf:1,maxTokens:100,echo:!1,stream:!1,frequencyPenalty:1,presencePenalty:1,stop:"\u21b5\u21b5"},this.apiCallSubscribe=new f.a,this.validateInput=function(e){return!!(e&&e.length>=15)}}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.subject.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return function(n){return n.lift(new g(e,t))}}(1500)).subscribe(function(t){e.doAction(t)})}},{key:"onKeyUp",value:function(e){this.apiCallSubscribe&&this.apiCallSubscribe.unsubscribe(),this.subject.next(e)}},{key:"_construct_parameter",value:function(e,t){return null==t?null:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t)}},{key:"_safe_cast",value:function(e){return isNaN(Number(e))?null:Number(e)}},{key:"doAction",value:function(e){var t=this;if(37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode){var n=document.getElementById("aa");console.log("element ==> ",n.innerText);var i=n.innerText;if(i=i.trim(),this.validateInput(i)){console.log("valid inputText");var r="https://api.openai.com/v1/engines/".concat(this.finalOptions.engine,"/completions"),s=new x.c({Authorization:"Bearer "+this.finalOptions.key,"Content-Type":"application/json"}),c=Object.assign({},this.finalOptions),o=Object.assign({},this._construct_parameter("prompt",i),this._construct_parameter("stream",c.stream),this._construct_parameter("stop",c.stop),this._construct_parameter("max_tokens",this._safe_cast(c.maxTokens)),this._construct_parameter("temperature",this._safe_cast(c.temperature)),this._construct_parameter("top_p",this._safe_cast(c.topP)),this._construct_parameter("presence_penalty",this._safe_cast(c.presencePenalty)),this._construct_parameter("frequency_penalty",this._safe_cast(c.frequencyPenalty)),this._construct_parameter("best_of",this._safe_cast(c.bestOf)),this._construct_parameter("n",this._safe_cast(c.n)),this._construct_parameter("logprobs",this._safe_cast(c.logprobs)),this._construct_parameter("echo",c.echo));this.apiCallSubscribe&&this.apiCallSubscribe.unsubscribe(),this.apiCallSubscribe=this.http.post(r,o,{headers:s}).subscribe(function(e){if(console.log("response",e),e&&e.choices){var r="";e.choices.forEach(function(e){r+=e.text}),n.innerText=i+r,t.cdr.detectChanges()}})}}}},{key:"alignElement",value:function(e,t){for(var n=e.childNodes,i=n.length,r=0;r<i;r++){if("DIV"==n[r].nodeName){for(var s=n[r].nodeValue,c=s.length,o="",a=0;a<c;a++)a<20?0==a?o+="<span id=".concat(a,">ENTER</span>"):o=o+"<span id=".concat(a,">")+s[a]+"</span>":o=o+"<span id=".concat(a,' style="color:red;">')+s[a]+"</span>";e.innerHTML=o}else{for(var u=n[r].nodeValue,l=u&&u.length||0,h="",d=0;d<l;d++)h=d<20?h+"<span id=".concat(d,">")+u[d]+"</span>":h+"<span id=".concat(d,' style="color:red;">')+u[d]+"</span>";e.innerHTML=h}return e}}},{key:"redSpaces",value:function(e,t){for(var n=e.childNodes,i=n.length,r=0;r<i;r++)"&nbsp;"!=n[r].innerHTML&&" "!=n[r].innerHTML||(0!=r||!n[r+1]||"&nbsp;"!=n[r+1].innerHTML&&" "!=n[r+1].innerHTML?(!n[r-1]||"&nbsp;"!=n[r-1].innerHTML&&" "!=n[r-1].innerHTML||"&nbsp;"!=n[r].innerHTML&&" "!=n[r].innerHTML||(n[r].classList.add("highlight"),n[r-1].classList.add("highlight")),!n[r+1]||"&nbsp;"!=n[r+1].innerHTML&&" "!=n[r+1].innerHTML||"&nbsp;"!=n[r].innerHTML&&" "!=n[r].innerHTML||(n[r+1].classList.add("highlight"),n[r].classList.contains("highlight")||n[r].classList.add("highlight"))):(n[r].classList.add("highlight"),n[r+1].classList.add("highlight")))}}]),e}(),k.\u0275fac=function(e){return new(e||k)(T.Gb(x.a),T.Gb(T.h))},k.\u0275cmp=T.Ab({type:k,selectors:[["app-gpt3"]],decls:1,vars:0,consts:[["contenteditable","true","id","aa",1,"editable",3,"keyup"]],template:function(e,t){1&e&&(T.Jb(0,"div",0),T.Pb("keyup",function(e){return t.onKeyUp(e)}),T.Ib())},styles:[".editable[_ngcontent-%COMP%]{margin-top:50px;margin-left:100px;border:1px solid #00f;resize:vertical;overflow:auto;width:600px;padding:5px}.highlight[_ngcontent-%COMP%]{border-bottom:4px solid red}"]}),k)}],L=((w=function e(){t(this,e)}).\u0275mod=T.Eb({type:w}),w.\u0275inj=T.Db({factory:function(e){return new(e||w)},imports:[[l.b,h.b.forChild(O)],h.b]}),w)}}])}();